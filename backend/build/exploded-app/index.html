<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<!-- The HTML 4.01 Transitional DOCTYPE declaration-->
<!-- above set at the top of the file will set     -->
<!-- the browser's rendering engine into           -->
<!-- "Quirks Mode". Replacing this declaration     -->
<!-- with a "Standards Mode" doctype is supported, -->
<!-- but may lead to some differences in layout.   -->

<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title>Send data for storage</title>
    <script src="https://code.jquery.com/jquery-1.12.3.min.js"></script>
    <style>
        body {
        font-family: sans-serif;
        }

        .label {
        margin-top: 1rem;
        }
    </style>
    <script>
	$(function() {
		$("form").submit(function() {
			function onerror(x) {
				alert("Error:" + x);
			}
			function onsuccess(result) {
				if (result.errormsg)
					onerror(result.errormsg);
				else
					alert("Success! Return... " + JSON.stringify(result));
			}

			var params = {
				id : $("#num").val(),
				title : $("#title").val(),
				artist : $("#artist").val(),
				album : $("#album").val()
			};
			$.ajax({
				url : "/storedata",
				method : "post",
				data : params,
				dataType : "json",
				error : onerror,
				success : onsuccess
			})
			return false;
		});
	});
</script>
</head>


<body>
<h1>Enter song information</h1>

<form>
    <div class="label">Number:</div>
    <div>
        <input type="text" id="num">
    </div>
    <div class="label">Title:</div>
    <div>
        <input type="text" id="title">
    </div>
    <div class="label">Artist:</div>
    <div>
        <input type="text" id="artist">
    </div>
    <div class="label">Album:</div>
    <div>
        <input type="text" id="album">
    </div>
    <div class="label">
        <input type="submit" value="Send"> <input type="reset"
                                                  value="Clear form">
    </div>
</form>
</body>
</html>
